#!/bin/bash
# Quick error check - one command to see all issues
# Usage: ./scripts/check-errors

cd "$(dirname "$0")/.."

# Colors
RED='\033[0;31m'
YELLOW='\033[1;33m'
GREEN='\033[0;32m'
BLUE='\033[0;34m'
NC='\033[0m'

echo ""
echo "${BLUE}========================================${NC}"
echo "${BLUE}  Pokertool Error Check${NC}"
echo "${BLUE}========================================${NC}"
echo ""

# Step 1: Generate consolidated error log
echo "${YELLOW}[1/2]${NC} Scanning logs..."
./scripts/monitor-errors.sh > /dev/null 2>&1

# Step 2: Show summary
echo "${YELLOW}[2/2]${NC} Analyzing errors..."
echo ""
./scripts/error-summary.sh

# Provide quick actions
echo ""
echo "${BLUE}Quick Actions:${NC}"
echo "  ${GREEN}View full log:${NC}     cat logs/errors-and-warnings.log"
echo "  ${GREEN}Monitor live:${NC}      tail -f logs/errors-and-warnings.log"
echo "  ${GREEN}Check backend:${NC}     tail -50 logs/pokertool_master.log"
echo "  ${GREEN}Check frontend:${NC}    cd pokertool-frontend && npm run build"
echo ""
