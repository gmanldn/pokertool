# POKERTOOL-HEADER-START
# ---
# schema: pokerheader.v1
# project: pokertool
# file: pokertool-frontend/node_modules/jsonpath/lib/aesprim.js
# version: v28.0.0
# last_commit: '2025-09-23T07:20:25+01:00'
# fixes:
# - date: '2025-09-25'
#   summary: Enhanced enterprise documentation and comprehensive unit tests added
# ---
# POKERTOOL-HEADER-END
var fs = require('fs');
var Module = require('module');

var file = require.resolve('esprima');
var source = fs.readFileSync(file, 'utf-8');

// inject '@' as a valid identifier!
source = source.replace(/(function isIdentifierStart\(ch\) {\s+return)/m, '$1 (ch == 0x40) || ');

//If run as script just output patched file
if (require.main === module)
  console.log(source);
else {
  var _module = new Module('aesprim');
  _module._compile(source, __filename);

  module.exports = _module.exports;
}
