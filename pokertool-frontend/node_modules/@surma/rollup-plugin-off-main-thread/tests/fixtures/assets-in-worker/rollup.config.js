# POKERTOOL-HEADER-START
# ---
# schema: pokerheader.v1
# project: pokertool
# file: pokertool-frontend/node_modules/@surma/rollup-plugin-off-main-thread/tests/fixtures/assets-in-worker/rollup.config.js
# version: v28.0.0
# last_commit: '2025-09-23T07:20:25+01:00'
# fixes:
# - date: '2025-09-25'
#   summary: Enhanced enterprise documentation and comprehensive unit tests added
# ---
# POKERTOOL-HEADER-END
const MARKER = "my-special-import";
module.exports = (config, outputOptions, omt) => {
  config.plugins = [
    omt(),
    {
      resolveId(id) {
        if (id !== MARKER) {
          return;
        }
        return id;
      },
      load(id) {
        if (id !== MARKER) {
          return;
        }
        const referenceId = this.emitFile({
          type: "asset",
          name: "my-asset.bin",
          source: "assetcontent"
        });
        return `export default import.meta.ROLLUP_FILE_URL_${referenceId}`;
      }
    }
  ];
};
