# POKERTOOL-HEADER-START
# ---
# schema: pokerheader.v1
# project: pokertool
# file: pokertool-frontend/node_modules/underscore/cjs/_wrapArrayMutator.js
# version: v28.0.0
# last_commit: '2025-09-25T18:50:22+01:00'
# fixes:
# - date: '2025-09-25'
#   summary: Enhanced enterprise documentation and comprehensive unit tests added
# ---
# POKERTOOL-HEADER-END
Object.defineProperty(exports, '__esModule', { value: true });

var _setup = require('./_setup.js');
var _getLength = require('./_getLength.js');
var identity = require('./identity.js');
var restArguments = require('./restArguments.js');

// Internal function to work around a bug in IE < 9. See
// https://github.com/jashkenas/underscore/issues/397.
function removeGhostHead(array) {
  if (!_getLength(array)) delete array[0];
  return array;
}

// Internal function to wrap `Array.prototype` methods that modify
// the context in place so they can be directly invoked as standalone
// functions. Works for `pop`, `push`, `reverse`, `shift`, `sort`,
// `splice` and `unshift`.
function wrapArrayMutator(name, fixup) {
  var method = _setup.ArrayProto[name];
  fixup || (fixup = identity);
  return restArguments(function(array, args) {
    if (array != null) method.apply(array, args);
    return fixup(array);
  });
}

exports.default = wrapArrayMutator;
exports.removeGhostHead = removeGhostHead;
